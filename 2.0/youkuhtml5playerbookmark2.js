(function(){if(window.isHTML5PlayerBookMarkCodeByZythum)return;window.isHTML5PlayerBookMarkCodeByZythum=!0;var youkuhtml5playerbookmark2=function(){var e=document.createElement("video").canPlayType("application/x-mpegURL")?!0:!1,t={getTop:function(e){var n=e.offsetTop;return e.offsetParent!=null&&(n+=t.getTop(e.offsetParent)),n},getLeft:function(e){var n=e.offsetLeft;return e.offsetParent!=null&&(n+=t.getLeft(e.offsetParent)),n},byId:function(e){return document.getElementById(e)},cTag:function(e,t,n,r){var i=document.createElement(e);return t&&(i.className=t),n&&n.appendChild(i),r&&(i.innerHTML=r),i},rNode:function(e){try{e.parentNode.removeChild(e)}catch(t){}},dClick:function(e){var t={},n="d_click",r=function(n){if(!n||n==e||!n.getAttribute||!n.tagName)return;var i=n.getAttribute("data-click"),s;if(i&&t[i])for(s=0;s<t[i].length;s++)t[i][s](n);r(n.parentNode)},i=function(e){e=e||window.event,r(e.target||e.srcElement)},s=function(e,n){t[e]||(t[e]=[]),t[e].push(n)};return e.onclick=i,{add:s,destroy:function(){e.onclick=null}}},jsonp:function(e,n,r){var i=document.createElement("script"),s=r||"HTML5PlayerBookMarkCodeByZythum"+(new Date).getTime()+Math.random().toString().replace(".","");window[s]=function(){n&&n.apply(this,arguments),t.rNode(i),delete window[s]},document.body.appendChild(i),i.src=e+s}},n=!1,r="&#x8FBE;&#x6210;&#x5951;&#x7EA6;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x597D;&#x50CF;&#x51FA;&#x73B0;&#x4E86;&#x95EE;&#x9898;",i="youkuhtml5playerbookmark2-",s=t.cTag("div",i+"cover"),o=t.cTag("div",i+"layer"),u=t.cTag("div",i+"title",o,"&#x5988;&#x5988;&#x518D;&#x4E5F;&#x4E0D;&#x7528;&#x62C5;&#x5FC3;&#x6211;&#x7684;macbook&#x53D1;&#x70EB;&#x4E86;&#x8BA1;&#x5212;"),a=t.cTag("div",i+"player",o),f=t.cTag("video",i+"video",a),l=t.cTag("div",i+"ctrlbar "+i+"ctrlbarhover",a),c=t.cTag("div",i+"progressNum",l),h=t.cTag("div",i+"progress",l),p=t.cTag("div",i+"volume",l),d=t.cTag("div",i+"btns",l),v=t.cTag("div",i+"close",l,"X"),m=t.cTag("div",i+"center",l,'<div class="'+i+'center-before"></div><div class="'+i+'center-after"></div>'),g=t.cTag("div",i+"range",h),y=t.cTag("div",i+"rangeinner",g),b=t.cTag("div",i+"rangebtn",y),w=t.cTag("div",i+"range",p),E=t.cTag("div",i+"rangeinner",w),S=t.cTag("div",i+"rangebtn",E),x=t.cTag("div",i+"btn",d,"&#x5F39;&#x5E55;"),T=t.cTag("div",i+"btn",d,"&#x6EE1;&#x5C4F;"),N=t.cTag("div",i+"btn",d,"&#x5168;&#x5C4F;"),C=t.cTag("div",i+"comment"),k=t.cTag("div",i+"commentFloat",C),L=t.cTag("div",i+"commentBottom",C);x.style.display="none",v.setAttribute("data-click","close"),N.setAttribute("data-click","fullscreen"),T.setAttribute("data-click","allscreen"),m.setAttribute("data-click","center"),f.setAttribute("autoplay","true");var A,O=!1,M=!1,_=!0,D=0,P=t.dClick(o),H=P.add,B=[],j=undefined,F=t.cTag("div"),I={setUrl:function(e){var n,r;for(n in e)r=t.cTag("div",i+"btn",null,n),d.insertBefore(r,d.children[0]),r.setAttribute("data-click","hd"),r.setAttribute("data-url",e[n]),B.push(r);r.className=i+"btn "+i+"select",f.src=e[n]},addUrl:function(e){var n,r;for(n in e)r=t.cTag("div",i+"btn",null,n),d.insertBefore(r,d.children[0]),r.setAttribute("data-click","hd"),r.setAttribute("data-url",e[n]),B.push(r)},setFlashElement:function(e){try{j=e,e.parentNode.insertBefore(F,j),e.parentNode.removeChild(j)}catch(t){}},formatTime:function(e){var t=parseInt(e/3600),n=parseInt((e-t*3600)/60),r=parseInt((e-t*3600-n*60)/1);return t+":"+n+":"+r},showPlayer:function(){document.body.appendChild(s),document.body.appendChild(o),_=!1},initComment:function(){x.style.display="",x.setAttribute("data-click","cmt"),x.setAttribute("data-status","show"),x.className=i+"btn "+i+"select",H("cmt",function(){x.getAttribute("data-status")=="show"?(I.hideComment(),x.className=i+"btn",x.setAttribute("data-status","hide")):(I.showComment(),x.className=i+"btn "+i+"select",x.setAttribute("data-status","show"))})},cmt:null,commentLoop:function(){},hideComment:function(){L.innerHTML=k.innerHTML="",I.commentLoop=function(){}},showComment:function(e){if(e)I.cmt=e=e.sort(function(e,t){return parseFloat(e.p[0])-parseFloat(t.p[0])});else{if(!I.cmt)return;e=I.cmt}a.appendChild(C);var t=0,n=0;I.commentLoop=function(r){if(t===r)return;t>r&&(t=r,n=0),t+1<r&&(t=r-1,n=0);var i,s=[t,r],o=n;while(i=e[o++]){var u=parseFloat(i.p[0]);if(u<s[0])continue;if(u>s[1])break;i.p[1]<=3&&I.pushCmt(i.msg,i.p),(i.p[1]==4||i.p[1]==5)&&I.pushCmtBottom(i.msg,i.p)}t=r,n=o}},pushCmtBottom:function(e,n){var r=4,s=t.cTag("div",i+"commentBlockBottom");s.appendChild(document.createTextNode(e)),L.children[0]?L.insertBefore(s,L.children[0]):L.appendChild(s),s.style.cssText+=";color:#"+n[3].toString(16)+";",setTimeout(function(){s.parentNode.removeChild(s)},r*1e3)},line:[],pushCmt:function(e,n){var r=8,s=0,o=0,u=a.offsetWidth,f=t.cTag("div",i+"commentBlock");f.appendChild(document.createTextNode(e)),k.appendChild(f),s=f.offsetWidth+10,o=25,u+=s,removeTime=r/a.offsetWidth*u,isShowdTime=r/a.offsetWidth*s;var l=0;while(I.line[l])l++;I.line[l]=f,f.style.cssText+=";-webkit-transform: translateX("+u+"px);top:"+l*o+"px;left:0px;color:#"+parseInt(n[3]).toString(16)+";",setTimeout(function(){f.style.cssText+=";-webkit-transform: translateX(-"+s+"px);-webkit-transition:-webkit-transform "+r+"s linear;"},0),setTimeout(function(){I.line[l]=undefined},isShowdTime*1e3),setTimeout(function(){f.parentNode.removeChild(f)},removeTime*1e3)},videoLayout:{width:800,height:450},setVideoLayout:function(e,t){if(O||document.webkitIsFullScreen)return;var n=800,r=n/e*t||450;r>window.innerHeight-80&&(r=window.innerHeight-80,n=r/t*e,n=n<500?500:n),I.videoLayout.height=r,I.videoLayout.width=n,I.fixVideoLayout()},fixVideoLayout:function(){O||document.webkitIsFullScreen?(o.style.width="",o.style.marginLeft="",o.style.height="",o.style.marginTop=""):(o.style.width=I.videoLayout.width+"px",o.style.marginLeft="-"+I.videoLayout.width/2+"px",o.style.height=I.videoLayout.height+"px",o.style.marginTop="-"+I.videoLayout.height/2+"px")}},q;H("hd",function(e){var t=f.currentTime;if(e.className==i+"btn "+i+"select")return;var n=0,r=B.length;for(;n<r;n++)B[n].className!=i+"btn"&&(B[n].className=i+"btn");e.className=i+"btn "+i+"select",f.src=e.getAttribute("data-url"),clearTimeout(q);var s=function(){try{clearTimeout(q),f.currentTime=t}catch(e){q=setTimeout(s,100)}};s()}),H("fullscreen",function(){document.webkitIsFullScreen?document.webkitCancelFullScreen():a.webkitRequestFullScreen()}),H("allscreen",function(){if(document.webkitIsFullScreen)return;O?(o.className=i+"layer",T.className=i+"btn",O=!1):(o.className=i+"layer "+i+"full",T.className=i+"btn "+i+"select",O=!0),I.fixVideoLayout()}),H("close",function(){if(document.webkitIsFullScreen)document.webkitCancelFullScreen();else{t.rNode(o),t.rNode(s),clearTimeout(A),_=!0,f.src="",f.pause();try{F.parentNode.insertBefore(j,F),F.parentNode.removeChild(F)}catch(e){}delete window.isHTML5PlayerBookMarkCodeByZythum,a.removeEventListener("webkitfullscreenchange",V,!1),m.removeEventListener("dblclick",W,!1),document.body.removeEventListener("keydown",X,!1),f.removeEventListener("canplay",$,!1),g.removeEventListener("mousedown",Q,!1),w.removeEventListener("mousedown",G,!1),document.removeEventListener("mouseup",Y,!1),document.removeEventListener("mousemove",Z,!1),a.removeEventListener("mousemove",playerMousemoveHandler,!1),P.destroy()}});var R=0,U;H("center",function(){R++,clearTimeout(U),U=setTimeout(function(){R==1&&(f.paused?f.play():f.pause()),R=0},0)});var z=function(){M?(s.className=i+"cover",M=!1):(s.className=i+"cover "+i+"block",M=!0)};s.addEventListener("dblclick",z,!1);var W=function(){if(_)return;document.webkitIsFullScreen?document.webkitCancelFullScreen():a.webkitRequestFullScreen()};m.addEventListener("dblclick",W,!1);var X=function(e){if(_)return;switch(e.keyCode){case 37:f.currentTime>20?f.currentTime=f.currentTime-20:"",e.preventDefault();break;case 39:f.currentTime<f.duration-20?f.currentTime=f.currentTime+20:"",e.preventDefault();break;case 40:f.volume>.1?f.volume=f.volume-.1:"",e.preventDefault();break;case 38:f.volume<.9?f.volume=f.volume+.1:"",e.preventDefault();break;case 32:f[f.paused?"play":"pause"]()}};document.body.addEventListener("keydown",X,!1);var V=function(){if(_)return;I.fixVideoLayout(),document.webkitIsFullScreen?(o.className=i+"layer "+i+"full",N.className=i+"btn "+i+"select",T.style.display="none"):(o.className=O?i+"layer "+i+"full":i+"layer",N.className=i+"btn",T.style.display="")};a.addEventListener("webkitfullscreenchange",V,!1);var $=function(){if(_)return;f.play(),I.setVideoLayout(f.videoWidth,f.videoHeight)};f.addEventListener("canplay",$,!1);var J=!1,K=!1,Q=function(){if(_)return;J=!0};g.addEventListener("mousedown",Q,!1);var G=function(){if(_)return;K=!0};w.addEventListener("mousedown",G,!1);var Y=function(e){if(_)return;var n=0,r=0;J&&(n=e.clientX-t.getLeft(y),r=n/y.offsetWidth,r=r>1?1:r,r=r<0?0:r,f.currentTime=f.duration*r,b.style.width=r*100+"%"),K&&(n=e.clientX-t.getLeft(E),r=n/E.offsetWidth,r=r>1?1:r,r=r<0?0:r,f.volume=r,S.style.width=r*100+"%"),J=!1,K=!1};document.addEventListener("mouseup",Y,!1);var Z=function(e){if(_)return;var n=0,r=0;J&&(n=e.clientX-t.getLeft(y),r=n/y.offsetWidth,r=r>1?1:r,r=r<0?0:r,f.currentTime=f.duration*r,b.style.width=r*100+"%"),K&&(n=e.clientX-t.getLeft(E),r=n/E.offsetWidth,r=r>1?1:r,r=r<0?0:r,f.volume=r,S.style.width=r*100+"%")};document.addEventListener("mousemove",Z,!1);var et=!0,tt=setTimeout(function(){l.className=i+"ctrlbar"},3e3);playerMousemoveHandler=function(){clearTimeout(tt),l.className!=i+"ctrlbar "+i+"ctrlbarhover"&&(l.className=i+"ctrlbar "+i+"ctrlbarhover"),tt=setTimeout(function(){l.className=i+"ctrlbar"},3e3)},a.addEventListener("mousemove",playerMousemoveHandler,!1);var nt=-1,rt=0,it=!1,st=function(){if(n)return;J||b.style.width!=f.currentTime/f.duration*100+"%"&&(b.style.width=f.currentTime/f.duration*100+"%"),K||S.style.width!=f.volume*100+"%"&&(S.style.width=f.volume*100+"%"),c.innerHTML=I.formatTime(f.currentTime)+" / "+I.formatTime(f.duration),f.paused?m.className!=i+"center "+i+"pause"&&(m.className=i+"center "+i+"pause"):m.className!=i+"center"&&(m.className=i+"center"),nt!=f.currentTime||f.ended||f.readyState==3||f.readyState==4||f.readyState==5?it||(u.innerHTML="&#x5988;&#x5988;&#x518D;&#x4E5F;&#x4E0D;&#x7528;&#x62C5;&#x5FC3;&#x6211;&#x7684;macbook&#x53D1;&#x70EB;&#x4E86;&#x8BA1;&#x5212;",it=!0):(it&&(u.innerHTML="&#x52C7;&#x6562;&#x7684;&#x5C11;&#x5E74;&#x8BF7;&#x8010;&#x5FC3;&#xFF0C;&#x5C11;&#x5973;&#x52AA;&#x529B;&#x7948;&#x7977;&#x4E2D;...",it=!1),m.className!=i+"center "+i+"loading"&&(m.className=i+"center "+i+"loading")),I.commentLoop&&(rt%2==0&&I.commentLoop(nt=f.currentTime),++rt>10&&(rt=0)),A=setTimeout(st,500)};st();var ot=[];return{add:function(n){try{n&&ot.push(n(t,e))}catch(r){}},init:function(){for(var e=0,i=ot.length;e<i;e++)if(ot[e]&&ot[e].reg&&ot[e].call){I.showPlayer();try{ot[e].call(function(e){I.setUrl(e.urls),I.setFlashElement(t.byId(e.flashElementId)),e.comment&&(I.initComment(),setTimeout(function(){I.showComment(e.comment)},100))})}catch(s){n=!0,u.innerHTML=r}break}}}}();youkuhtml5playerbookmark2.add(function(e,t){var n=window.videoId,r=function(e){return e({"&#x6807;&#x6E05;":"/player/getM3U8/vid/"+n+"/type/flv/ts/"+(((new Date).getTime()/1e3).toString()|0)+"/v.m3u8","&#x9AD8;&#x6E05;":"/player/getM3U8/vid/"+n+"/type/mp4/ts/"+(((new Date).getTime()/1e3).toString()|0)+"/v.m3u8","&#x8D85;&#x6E05;":"/player/getM3U8/vid/"+n+"/type/hd2/ts/"+(((new Date).getTime()/1e3).toString()|0)+"/v.m3u8"})},i=function(t){function r(e){var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ/\\:._-1234567890".split(""),n=[],r;for(var i=0,s=t.length;i<s;i++)e=(e*211+30031)%65536,r=Math.floor(e/65536*t.length),n.push(t[r]),t.splice(r,1);return n.join("")}function i(e,t){var n=r(t),i=e.split("*"),s=[],o;for(var u=0;u<i.length;u++)o=parseInt(i[u],10),s.push(n.charAt(o));return s.join("")}e.jsonp("http://v.youku.com/player/getPlaylist/VideoIDS/"+n+"/Pf/4?__callback=",function(n){var r=new Date,s=i(n.data[0].streamfileids["3gphd"],n.data[0].seed),o=r.getTime()+""+(1e3+r.getMilliseconds())+""+parseInt(Math.random()*9e3),u=n.data[0].segs["3gphd"][0].k,a=n.data[0].segs["3gphd"][0].seconds;e.jsonp("http://f.youku.com/player/getFlvPath/sid/"+o+"_00/st/mp4/fileid/"+s+"?K="+u+"&hd=1&myp=0&ts=1156&ypp=0&ymovie=1&callback=",function(e){t({"&#x9AD8;&#x6E05;":e[0].server})})})};return{reg:/youku\.com/.test(window.location.host)&&n,call:function(e){return(t?r||i:i)(function(t){return e({urls:t,flashElementId:"movie_player"})})}}}),youkuhtml5playerbookmark2.add(function(e,t){var n=window.iid,r=function(e){return e({"&#x6807;&#x6E05;":"http://vr.tudou.com/v2proxy/v2.m3u8?it="+n+"&st=2","&#x539F;&#x753B;":"http://vr.tudou.com/v2proxy/v2.m3u8?it="+n+"&st=5"})},i=function(t){e.jsonp("http://vr.tudou.com/v2proxy/v2.js?it="+n+"&st=52%2C53%2C54&pw=&jsonp=",function(e){if(e.code==-1)return;for(var n={},r=0,i=e.urls.length;r<i;r++)n[r]=e.urls[r];return t(n)})};return{reg:/tudou\.com/.test(window.location.host)&&n,call:function(e){return(t?r||i:i)(function(t){return e({urls:t,flashElementId:"playerObject"})})}}}),youkuhtml5playerbookmark2.add(function(e,t){var n=location.search.match(/vid=([0-9a-zA-Z]+)/);n?n=n[1]:(n=location.href.match(/\/([0-9a-zA-Z]+).html/),n&&(n=n[1],window.COVER_INFO.id==n&&(n=window.VIDEO_INFO.vid)));if(!n)return;var r=function(t){e.jsonp("http://vv.video.qq.com/geturl?otype=json&vid="+n+"&charge=0&callback=",function(e){t({"&#x9AD8;&#x6E05;":e.vd.vi[0].url})})};return{reg:/v\.qq\.com/.test(window.location.host)&&window.COVER_INFO,call:function(e){return r(function(t){return e({urls:t,flashElementId:"mod_player"})})}}}),youkuhtml5playerbookmark2.add(function(e,t){var n;try{n=$SCOPE.video.videoData.ipad_vid}catch(r){n=!1}var i=function(e){e({"&#x9AD8;&#x6E05;":"http://edge.v.iask.com.sinastorage.com/"+n+".mp4"})};return{reg:/video\.sina\.com\.cn/.test(window.location.host)&&n,call:function(e){return i(function(t){return e({urls:t,flashElementId:"myMovie"})})}}}),youkuhtml5playerbookmark2.add(function(e,t){var n=window.vid,r=function(e){return e({"&#x9AD8;&#x6E05;":"http://hot.vrs.sohu.com/ipad"+vid+".m3u8"})},i=function(t){var n="f351515304020cad28c92f70f002261c";e.jsonp("http://api.tv.sohu.com/video/playinfo/"+vid+".json?encoding=gbk&api_key="+n+"&from=mweb&_="+(new Date).getTime()+"&callback=",function(e){t({"&#x9AD8;&#x6E05;":e.data.downloadurl})})};return{reg:/sohu\.com/.test(window.location.host)&&n,call:function(e){return(t?r||i:i)(function(t){return e({urls:t,flashElementId:"player"})})}}}),youkuhtml5playerbookmark2.add(function(e,t){var n=window._page_,r=function(t){if(n.channel=="view"){var r=location.href.match(/v\_([0-9a-zA-Z]+)\.html/);r&&(r=r[1],t({"&#x9AD8;&#x6E05;":"http://vxml.56.com/m3u8/"+r+"/"}))}else{var i="jsonp_dfInfo",s=window[i];e.jsonp("http://vxml.56.com/ipad/"+(window.oFlv.o.id||window._oFlv_c.id)+"/?src=site&callback=",function(e){urlList=e.df;var n={};for(var r=e.df.length-1;r>=0;r--)n[e.df[r].type]=e.df[r].url;t(n),window[i]=s},i)}};return{reg:/56\.com/.test(window.location.host)&&n,call:function(e){return r(function(t){return e({urls:t,flashElementId:"mod_player"})})}}}),youkuhtml5playerbookmark2.add(function(e,t){var n=function(e){var n=document.createElement("script");n.src="http://cache.video.qiyi.com/m/201971/"+window.info.videoId+"/",document.body.appendChild(n);var r;r=setInterval(function(){if(window.ipadUrl){clearInterval(r);if(t)e({"&#x9AD8;&#x6E05;":ipadUrl.data.url});else{var n=ipadUrl.data.mp4Url,i=document.createElement("script");i.src=n,document.body.appendChild(i),clearInterval(r),r=setInterval(function(){window.videoUrl&&(clearInterval(r),e({"&#x9AD8;&#x6E05;":videoUrl.data.l}))},100)}}},100)};return{reg:/iqiyi\.com/.test(window.location.host)&&window.info&&window.info.videoId,call:function(e){return n(function(t){return e({urls:t,flashElementId:"flash"})})}}}),youkuhtml5playerbookmark2.add(function(core,canPlayM3U8){canPlayM3U8=!1;var getScript=function(){var e=document.getElementsByTagName("script");for(var t=0,n=e.length;t<n;t++)if(/LELib\.Revive\.Player/.test(e[t].innerHTML))return e[t];return!1},init=function(callback){var script=getScript();if(!script)return;var temp=LELib.Revive.Player,isfirst=!0,value;LELib.Revive.Player=function(){value=arguments[2]},eval(script.innerHTML),LELib.Revive.Player=temp;var urls={};canPlayM3U8?(value.v[1]&&(urls["&#x6807;&#x6E05;"]=LETV.Base64.decode(value.v[1])),value.v[0]&&(urls["&#x9AD8;&#x6E05;"]=LETV.Base64.decode(value.v[0]))):(value.v[1]&&(urls["&#x6807;&#x6E05;"]=LETV.Base64.decode(value.v[1]).replace("tss=ios","")),value.v[0]&&(urls["&#x9AD8;&#x6E05;"]=LETV.Base64.decode(value.v[0]).replace("tss=ios",""))),urls&&callback(urls)};return{reg:/letv\.com/.test(window.location.host),call:function(e){return init(function(t){return e({urls:t,flashElementId:"fla_box"})})}}}),youkuhtml5playerbookmark2.add(function(e,t){var n=function(e,t,n){t({sina:"http://edge.v.iask.com.sinastorage.com/"+e+".mp4"},n)},r=function(t,n,r){e.jsonp("http://zythum.sinaapp.com/youkuhtml5playerbookmark/getyoukuid.php?id="+t+"&callback=",function(t){function i(e){var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ/\\:._-1234567890".split(""),n=[],r;for(var i=0,s=t.length;i<s;i++)e=(e*211+30031)%65536,r=Math.floor(e/65536*t.length),n.push(t[r]),t.splice(r,1);return n.join("")}function s(e,t){var n=i(t),r=e.split("*"),s=[],o;for(var u=0;u<r.length;u++)o=parseInt(r[u],10),s.push(n.charAt(o));return s.join("")}var o=new Date,u=s(t.data[0].streamfileids["3gphd"],t.data[0].seed),a=o.getTime()+""+(1e3+o.getMilliseconds())+""+parseInt(Math.random()*9e3),f=t.data[0].segs["3gphd"][0].k,l=t.data[0].segs["3gphd"][0].seconds;e.jsonp("http://f.youku.com/player/getFlvPath/sid/"+a+"_00/st/mp4/fileid/"+u+"?K="+f+"&hd=1&myp=0&ts=1156&ypp=0&ymovie=1&callback=",function(e){n({"&#x9AD8;&#x6E05;":e[0].server},r)})})},i=function(t,n,r){e.jsonp("http://vv.video.qq.com/geturl?otype=json&vid="+t+"&charge=0&callback=",function(e){n({"&#x9AD8;&#x6E05;":e.vd.vi[0].url},r)})},s=function(n,r,i){t?r({"&#x6807;&#x6E05;":"http://vr.tudou.com/v2proxy/v2.m3u8?it="+n+"&st=2","&#x539F;&#x753B;":"http://vr.tudou.com/v2proxy/v2.m3u8?it="+n+"&st=5"},i):e.jsonp("http://vr.tudou.com/v2proxy/v2.js?it="+n+"&st=52%2C53%2C54&pw=&jsonp=",function(e){if(e.code==-1)return;for(var t={},n=0,s=e.urls.length;n<s;n++)t[n]=e.urls[n];return r(t,i)})},o=function(t){var o=location.href.match(/\/(ac[0-9a-zA-Z\_]+)/)[1];e.jsonp("http://zythum.sinaapp.com/youkuhtml5playerbookmark/acfun.php?aid="+o+"&callback=",function(e,o,u){o.toLowerCase()=="sina"?n(e,t,u):o.toLowerCase()=="youku"?r(e,t,u):o.toLowerCase()=="qq"?i(e,t,u):o.toLowerCase()=="tudou"?s(e,t,u):"false"})};return{reg:/acfun\.tv/.test(window.location.host)&&window.system,call:function(e){return o(function(t,n){return e({urls:t,flashElementId:"area-player",comment:n})})}}}),youkuhtml5playerbookmark2.add(function(e,t){var n=window.aid,r=window.pageno,i=function(e,t,n){var r=e.match(/vid\=([0-9a-zA-Z]+)/);r&&(r=r[1],e="http://edge.v.iask.com.sinastorage.com/"+r+".mp4"),t({sina:e},n)},s=function(t,n,r){var i=t.match(/vid\/([0-9a-zA-Z]+)\//);i&&(i=i[1],e.jsonp("http://zythum.sinaapp.com/youkuhtml5playerbookmark/getyoukuid.php?id="+i+"&callback=",function(t){function i(e){var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ/\\:._-1234567890".split(""),n=[],r;for(var i=0,s=t.length;i<s;i++)e=(e*211+30031)%65536,r=Math.floor(e/65536*t.length),n.push(t[r]),t.splice(r,1);return n.join("")}function s(e,t){var n=i(t),r=e.split("*"),s=[],o;for(var u=0;u<r.length;u++)o=parseInt(r[u],10),s.push(n.charAt(o));return s.join("")}var o=new Date,u=s(t.data[0].streamfileids["3gphd"],t.data[0].seed),a=o.getTime()+""+(1e3+o.getMilliseconds())+""+parseInt(Math.random()*9e3),f=t.data[0].segs["3gphd"][0].k,l=t.data[0].segs["3gphd"][0].seconds;e.jsonp("http://f.youku.com/player/getFlvPath/sid/"+a+"_00/st/mp4/fileid/"+u+"?K="+f+"&hd=1&myp=0&ts=1156&ypp=0&ymovie=1&callback=",function(e){n({"&#x9AD8;&#x6E05;":e[0].server},r)})}))},o=function(t,n,r){var i=t.match(/qq\.com\/([0-9a-zA-Z]+)\.mp4/);i&&(i=i[1],e.jsonp("http://vv.video.qq.com/geturl?otype=json&vid="+i+"&charge=0&callback=",function(e){n({"&#x9AD8;&#x6E05;":e.vd.vi[0].url},r)}))},u=function(e,t,n){t({bili:e},n)},a=function(t){e.jsonp("http://zythum.sinaapp.com/youkuhtml5playerbookmark/bilibili.php?aid="+n+"&page="+r+"&callback=",function(e,n,r){var a=n.durl[0].url;a.indexOf("v.iask.com")>=0?i(a,t,r):a.indexOf("v.youku.com")>=0?s(a,t,r):a.indexOf("qq.com")>=0?o(a,t,r):u(a,t,r)})};return{reg:/bilibili\.tv/.test(window.location.host)&&window.aid,call:function(e){return a(function(t,n){return e({urls:t,flashElementId:"bofqi",comment:n})})}}}),youkuhtml5playerbookmark2.init()})()